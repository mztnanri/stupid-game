<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ„šè ¢çš„éŒ¨äººå°éŠæˆ²</title>
    <style>
        body { 
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(to bottom, #f0f8ff, #e6e6fa); 
            font-family: 'Arial', sans-serif; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            height: 100vh; 
            justify-content: center; 
        }
        canvas { 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            background: white; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
        }
        #count { 
            font-size: 28px; 
            font-weight: bold; 
            color: #333; 
            margin: 10px 0; 
        }
        #button { 
            padding: 15px 40px; 
            font-size: 20px; 
            background: linear-gradient(45deg, #ff69b4, #ba55d3); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); 
            transition: transform 0.1s; 
        }
        #button:hover { transform: scale(1.05); }
        #button:active { transform: scale(0.95); }
        #achievements { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: rgba(0,0,0,0.8); 
            color: white; 
            padding: 15px; 
            border-radius: 10px; 
            max-width: 300px; 
            font-size: 18px; 
            display: none; 
            z-index: 999; 
        }
    </style>
</head>
<body>
    <div id="count">ç¬¨ç¬¨: 0</div>
    <canvas id="canvas" width="400" height="400"></canvas>
    <button id="button">é»æ“Šä»¥ç²å¾—æ°¸ç”Ÿ</button>
    <div id="achievements"></div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const countEl = document.getElementById('count');
        const button = document.getElementById('button');
        const achievementsEl = document.getElementById('achievements');

        let clickCount = 0;
        let isJumping = false;
        let jumpHeight = 0;
        let jumpVelocity = 0;
        let rotation = 0; // ç”¨ä¾†åšè¼•å¾®æ‰­å‹•

        const achievements = {
            1: "çœŸçš„å–”",
            50: "é€™æ˜¯çœŸçš„å—",
            100: "é€™ä¸æ˜¯çœŸçš„",
            200: "ç‚ºä»€éº¼",
            500: "ç¾©å¤§åˆ©éºµ",
            1000: "å»ç¢°è‰",
            2000: "è€å…„æ‹œè¨—é€™åªæ˜¯ä¸€å€‹è ¢éŠæˆ²",
            3000: "è ¢å±è‚¡",
            4000: "é€™èªªæ˜äº†ä¸€å€‹é—œæ–¼ç¤¾æœƒ",
            5000: "ä½ è…³è‡­",
            6000: "ç¤¾æœƒææ‡¼å­¤ç‹¼",
            7000: "å‡ºæ–¼æŸç¨®åŸå› å¿…é ˆåœ¨ä½›èŠè¿ªå¾…åˆå¤œ",
            8000: "æˆ‘æ¨ä½ ",
            9000: "æˆ‘æœƒåœ¨ä½ çš„å±çœ¼è£¡çŒå¼·åŠ›è† ",
            10000: "go find a job"
        };
        const unlocked = new Set();

        // è¼‰å…¥åœ–ç‰‡
        const img = new Image();
        img.src = 'water1.png'; // åœ–ç‰‡æª”å
        let imgLoaded = false;

        img.onload = function() {
            imgLoaded = true;
            console.log('åœ–ç‰‡è¼‰å…¥æˆåŠŸï¼');
        };

        // ç¹ªè£½è§’è‰²ï¼ˆä½¿ç”¨çš„åœ–ç‰‡ + è·³èº + è¼•å¾®æ‰­å‹•ï¼‰
        function drawCharacter() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (imgLoaded) {
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 3 - 100 + jumpHeight; // å‘ä¸Šè·³

                // è¨ˆç®—æ‰­å‹•æ—‹è½‰ï¼ˆå·¦å³è¼•å¾®æ–ï¼‰
                rotation = Math.sin(Date.now() / 150) * 0.08; // å¹…åº¦å¾ˆå°ï¼Œå¤§ç´„ Â±4.5åº¦

                ctx.save();
                ctx.translate(centerX, centerY + img.height / 2);
                ctx.rotate(rotation);
                ctx.drawImage(img, -img.width / 2, -img.height / 2, img.width, img.height);
                ctx.restore();
            } else {
                // åœ–ç‰‡é‚„æ²’è¼‰å…¥å®Œæ™‚é¡¯ç¤ºæ–‡å­—æç¤º
                ctx.fillStyle = '#999';
                ctx.font = '20px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('è¼‰å…¥åœ–ç‰‡ä¸­...', canvas.width/2, canvas.height/2);
            }
        }

        // è·³èºå‹•ç•«
        function updateJump() {
            if (isJumping) {
                jumpVelocity -= 1;
                jumpHeight += jumpVelocity;
                if (jumpHeight <= 0) {
                    jumpHeight = 0;
                    isJumping = false;
                }
            }
        }

        // è§£é–æˆå°±
        function unlockAchievement(count) {
            for (let key in achievements) {
                if (count === parseInt(key) && !unlocked.has(key)) {
                    unlocked.add(key);
                    achievementsEl.textContent = `ğŸ‰ æˆå°±è§£é–ï¼š${achievements[key]} `;
                    achievementsEl.style.display = 'block';
                    setTimeout(() => {
                        achievementsEl.style.display = 'none';
                    }, 3000);
                }
            }
        }

        // é»æ“Šäº‹ä»¶
        button.addEventListener('click', () => {
            clickCount++;
            countEl.textContent = `è·³è·³: ${clickCount}`;
            unlockAchievement(clickCount);
            isJumping = true;
            jumpVelocity = 8; // è·³èºåˆé€Ÿ
        });

        // éŠæˆ²å¾ªç’°
        function gameLoop() {
            updateJump();
            drawCharacter();
            requestAnimationFrame(gameLoop);
        }

        gameLoop(); // å•Ÿå‹•éŠæˆ²
    </script>
</body>
</html>